---
import TinaLayout from "../layouts/TinaLayout.astro";

export async function getStaticPaths() {
    const allPosts = await Astro.glob('../content/posts/*.md')

    return allPosts.map((post) => ({
        params: {
            slug: post.file.split('/').pop().replace(/\.md(x)?/,'')
        },
        props: { post },
    }));
}

const {frontmatter, Content} = Astro.props.post
---

<TinaLayout frontmatter={frontmatter}>
    <Content/>
</TinaLayout>