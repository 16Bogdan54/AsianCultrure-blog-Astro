---
import BaseLayout from "../layouts/BaseLayout.astro";
import TopPanel from "../components/topPanel/TopPanel";

import { getCollection } from "astro:content";
import { getUniqueTags } from "../utils/utils";
import TagList from "../components/tagList/TagList";
import React from "react";

let blogPosts;

try {
  blogPosts = await getCollection("posts", (post) =>
    post.data.category?.match("culture")
  );
} catch (err) {
  alert(err);
}
---

<BaseLayout title="Culture">
  <TagList tags={getUniqueTags(blogPosts)} />
  <TopPanel
    client:load
    title="Culture"
    tags={getUniqueTags(blogPosts)}
    searchList={blogPosts}
  />
</BaseLayout>
